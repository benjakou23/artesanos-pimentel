<!DOCTYPE html>
<html lang="es">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda | Catálogo de Artesanía - Pimentel Artesanal</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/tienda.css"> 

</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-hand-holding-heart"></i> Pimentel Artesanal
            </div>
            
            <button class="menu-toggle" id="menu-toggle">
                <i class="fas fa-bars"></i>
            </button>

            <nav class="main-nav" id="main-nav">
                <a href="index.html">Inicio</a>
                <a href="tienda.html">Tienda</a>
                <a href="artesanos.html">Artesanos</a>
                <a href="cultura.html">Cultura</a>
                <a href="contacto.html">Contacto</a>
                <a href="carrito.html" id="cart-link" class="cart-icon">
                    <i class="fas fa-shopping-cart"></i> (<span id="cart-count">0</span>)
                </a>
            </nav>
        </div>
    </header>

    <main class="container store-page">
        <section class="catalog-header">
            <h1 class="page-title"><i class="fas fa-store"></i> Nuestro Catálogo Completo</h1>
            <p class="subtitle">Explora la colección de arte creado por los maestros artesanos de Lambayeque.</p>
        </section>

        <section class="store-grid">
            
            <aside class="sidebar">
                <h3><i class="fas fa-filter"></i> Filtrar Productos</h3>
                
                <div class="filter-group">
                    <h4>Categorías</h4>
                    <ul>
                        <li><a href="#" data-filter="totora">Totora y Tejidos</a> (8)</li>
                        <li><a href="#" data-filter="ceramica">Cerámica Moche/Sicán</a> (5)</li>
                        <li><a href="#" data-filter="joyeria">Joyería Artesanal</a> (4)</li>
                        <li><a href="#" data-filter="textil">Textiles y Mantas</a> (3)</li>
                    </ul>
                </div>

                <div class="filter-group">
                    <h4>Rango de Precio</h4>
                    <input type="range" min="10" max="250" value="250" class="slider" id="price-range">
                    <p>Precio Máximo: S/ <span id="price-value">250</span></p>
                </div>
                
                <div class="filter-group">
                    <h4>Artesano</h4>
                    <select id="artisan-filter">
                        <option value="all">Todos los Artesanos</option>
                        <option value="carlos">Don Carlos Malca</option>
                        <option value="rosa">Doña Rosa Panta</option>
                        <option value="luna">Taller Luna</option>
                    </select>
                </div>

                <button class="btn btn-secondary btn-full">Aplicar Filtros</button>
                <button class="btn btn-tertiary btn-full btn-reset">Limpiar Filtros</button>
            </aside>

            <div class="product-list-container">
                <div class="sort-bar">
                    <p id="product-count-display">Mostrando 20 resultados</p>
                    <div class="sort-options">
                         <label for="sort-by"><i class="fas fa-sort"></i> Ordenar por:</label>
                         <select id="sort-by">
                            <option value="featured">Destacado</option>
                            <option value="price-asc">Precio: Menor a Mayor</option>
                            <option value="price-desc">Precio: Mayor a Menor</option>
                            <option value="name-asc">Nombre: A - Z</option>
                         </select>
                    </div>
                </div>

                <div class="product-grid" id="full-product-list">
                    
                    <div class="product-card modern-card" data-id="101" data-name="Barco Velero de Totora" data-price="45.00" data-category="totora" data-artisan="carlos">
                        <img src="https://elcomercio.pe/resizer/aoUovIS100Iaf9ehIzCNUbibmy0=/1200x1200/smart/filters:format(jpeg):quality(75)/arc-anglerfish-arc2-prod-elcomercio.s3.amazonaws.com/public/BNGEVSGUPVHK3AGT7LKBOQKTUY.jpg" alt="Barco Velero de Totora">
                        <div class="card-info">
                            <h3>Barco Velero de Totora</h3>
                            <p class="artisan"><i class="fas fa-user-tag"></i> Don Carlos</p>
                            <p class="price">S/ 45.00</p>
                            <button class="add-to-cart btn btn-secondary"><i class="fas fa-cart-plus"></i> Añadir</button>
                        </div>
                    </div>
                    
                    <div class="product-card modern-card" data-id="102" data-name="Réplica Huaco Retrato" data-price="95.00" data-category="ceramica" data-artisan="luna">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/d/d6/C%C3%A9ramiques_Moche.jpg" alt="Réplica Huaco Retrato">
                        <div class="card-info">
                            <h3>Réplica Huaco Retrato</h3>
                            <p class="artisan"><i class="fas fa-user-tag"></i> Taller Luna</p>
                            <p class="price">S/ 95.00</p>
                            <button class="add-to-cart btn btn-secondary"><i class="fas fa-cart-plus"></i> Añadir</button>
                        </div>
                    </div>
                    
                    <div class="product-card modern-card" data-id="103" data-name="Bolsa de Algodón Nativo" data-price="60.00" data-category="textil" data-artisan="rosa">
                        <img src="https://diariocorreo.pe/resizer/Pcux4yjRZ1H8XfJlh8wFQjhVA8k=/1200x900/smart/filters:format(jpeg):quality(75)/arc-anglerfish-arc2-prod-elcomercio.s3.amazonaws.com/public/U7D5LE6H4JB3PGKRDQDBZB2L6U.jpg" alt="Bolsa de Algodón Nativo">
                        <div class="card-info">
                            <h3>Bolsa de Algodón Nativo</h3>
                            <p class="artisan"><i class="fas fa-user-tag"></i> Doña Rosa</p>
                            <p class="price">S/ 60.00</p>
                            <button class="add-to-cart btn btn-secondary"><i class="fas fa-cart-plus"></i> Añadir</button>
                        </div>
                    </div>

                    </div>
                
                <div class="pagination text-center">
                    <a href="#" class="btn btn-secondary disabled"><i class="fas fa-chevron-left"></i> Anterior</a>
                    <a href="#" class="btn btn-primary">1</a>
                    <a href="#" class="btn btn-secondary">2</a>
                    <a href="#" class="btn btn-secondary">3</a>
                    <a href="#" class="btn btn-secondary">Siguiente <i class="fas fa-chevron-right"></i></a>
                </div>

            </div>
        </section>

    </main>

    <footer class="main-footer">
        <div class="container footer-content">
            <div class="footer-section">
                <h4><i class="fas fa-map-marker-alt"></i> Ubicación</h4>
                <p>Pimentel, Lambayeque, Perú</p>
                <p><i class="fas fa-envelope"></i> info@pimentelartesanal.pe</p>
                <p><i class="fas fa-phone"></i> +51 987 654 321</p>
            </div>
            <div class="footer-section">
                <h4><i class="fas fa-link"></i> Enlaces Rápidos</h4>
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="artesanos.html">Conoce a los Artesanos</a></li>
                    <li><a href="cultura.html">Nuestra Cultura</a></li>
                    <li><a href="contacto.html">Contáctanos</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4><i class="fas fa-file-alt"></i> Información Legal</h4>
                <ul>
                    <li><a href="#">Términos y Condiciones</a></li>
                    <li><a href="#">Política de Privacidad</a></li>
                    <li><a href="#">Política de Envíos y Devoluciones</a></li>
                </ul>
            </div>
            <div class="footer-section social-media">
                <h4><i class="fas fa-share-alt"></i> Síguenos</h4>
                <div class="social-icons">
                    <a href="#" target="_blank" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" target="_blank" title="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>Copyright &copy; 2025 Pimentel Artesanal. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // ==============================================
            // === 1. LÓGICA DEL MENÚ DE HAMBURGUESA ===
            // ==============================================

            const menuToggle = document.getElementById('menu-toggle');
            const mainNav = document.getElementById('main-nav');

            if (menuToggle && mainNav) {
                // Manejador para abrir/cerrar el menú
                menuToggle.addEventListener('click', () => {
                    mainNav.classList.toggle('active');
                    
                    // Opcional: Cambiar el ícono de la hamburguesa a una 'X'
                    const icon = menuToggle.querySelector('i');
                    if (mainNav.classList.contains('active')) {
                        icon.classList.remove('fa-bars');
                        icon.classList.add('fa-times'); // Usar fa-times para cerrar (X)
                    } else {
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                });

                // Opcional: Cerrar el menú al hacer clic en un enlace (en móvil)
                const navLinks = mainNav.querySelectorAll('a');
                navLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        // Solo si el menú está activo (móvil)
                        if (mainNav.classList.contains('active')) {
                            mainNav.classList.remove('active');
                            // Restaurar el ícono de hamburguesa
                            const icon = menuToggle.querySelector('i');
                            icon.classList.remove('fa-times');
                            icon.classList.add('fa-bars');
                        }
                    });
                });
            }

            // ==============================================
            // === 2. LÓGICA DEL CONTADOR DEL CARRITO (GLOBAL) ===
            // ==============================================
            
            const cartCountElement = document.getElementById('cart-count');

            function getCart() {
                // Simulación: Asume que el carrito está almacenado en localStorage
                const cart = localStorage.getItem('artesaniaCart');
                return cart ? JSON.parse(cart) : [];
            }

            function updateCartCount() {
                const cart = getCart();
                // Suma la cantidad (quantity) de todos los ítems
                const totalItems = cart.reduce((total, item) => total + (item.quantity || 1), 0);
                if (cartCountElement) {
                    cartCountElement.textContent = totalItems;
                }
            }
            
            // Inicializar el contador al cargar la página
            updateCartCount();
        });
    </script>
    <script src="js/app.js"></script> 
    <script src="js/tienda.js"></script> 
</body>
</html>