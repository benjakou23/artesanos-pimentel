<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pimentel Artesanal - Carrito de Compras</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/carrito.css">
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-hand-holding-heart"></i> Pimentel Artesanal
            </div>
            
            <button class="menu-toggle" id="menu-toggle">
                <i class="fas fa-bars"></i>
            </button>

            <nav class="main-nav" id="main-nav">
                <a href="index.html">Inicio</a>
                <a href="#productos">Tienda</a>
                <a href="artesanos.html">Artesanos</a>
                <a href="cultura.html">Cultura</a>
                <a href="contacto.html">Contacto</a>
                <a href="carrito.html" id="cart-link" class="cart-icon">
                    <i class="fas fa-shopping-cart"></i> (<span id="cart-count">0</span>)
                </a>
            </nav>
        </div>
    </header>

    <main class="container page-content">
        <h1 class="page-title text-center">
            <i class="fas fa-cart-shopping"></i> Tu Cesta de Artesanía
        </h1>
        <p class="subtitle text-center">Verifica tus productos y procede al pago de forma segura.</p>

        <section id="cart-details">
            <table class="cart-table">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Precio</th>
                        <th>Cantidad</th>
                        <th>Subtotal</th>
                        <th></th> 
                    </tr>
                </thead>
                <tbody id="cart-items-body">
                    </tbody>
            </table>
            
            <p id="empty-cart-message" class="empty-message hidden">
                <i class="fas fa-box-open"></i> El carrito está vacío. <a href="index.html#productos">¡Empieza a comprar aquí!</a>
            </p>
        </section>

        <section id="cart-summary" class="cart-totals">
            <p>Subtotal: <span id="cart-subtotal">S/ 0.00</span></p>
            <p>Costo de Envío: <span id="cart-shipping">S/ 15.00</span></p>
            <p class="total-row">Total a Pagar: <span id="cart-total">S/ 0.00</span></p>
            
            <div class="checkout-btn-container">
                <a href="checkout.html" class="btn checkout-btn" id="proceed-to-checkout">
                    Proceder al Pago <i class="fas fa-credit-card"></i>
                </a>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        <div class="container footer-content">
            <div class="footer-section">
                <h4><i class="fas fa-map-marker-alt"></i> Ubicación</h4>
                <p>Pimentel, Lambayeque, Perú</p>
                <p><i class="fas fa-envelope"></i> info@pimentelartesanal.pe</p>
                <p><i class="fas fa-phone"></i> +51 987 654 321</p>
            </div>
            <div class="footer-section">
                <h4><i class="fas fa-link"></i> Enlaces Rápidos</h4>
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="artesanos.html">Conoce a los Artesanos</a></li>
                    <li><a href="cultura.html">Nuestra Cultura</a></li>
                    <li><a href="contacto.html">Contáctanos</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4><i class="fas fa-file-alt"></i> Información Legal</h4>
                <ul>
                    <li><a href="#">Términos y Condiciones</a></li>
                    <li><a href="#">Política de Privacidad</a></li>
                    <li><a href="#">Política de Envíos y Devoluciones</a></li>
                </ul>
            </div>
            <div class="footer-section social-media">
                <h4><i class="fas fa-share-alt"></i> Síguenos</h4>
                <div class="social-icons">
                    <a href="#" target="_blank" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" target="_blank" title="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>Copyright &copy; 2025 Pimentel Artesanal. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // ==============================================
            // === 1. LÓGICA DEL MENÚ DE HAMBURGUESA ===
            // ==============================================

            const menuToggle = document.getElementById('menu-toggle');
            const mainNav = document.getElementById('main-nav');

            if (menuToggle && mainNav) {
                // Manejador para abrir/cerrar el menú
                menuToggle.addEventListener('click', () => {
                    mainNav.classList.toggle('active');
                    
                    // Opcional: Cambiar el ícono de la hamburguesa a una 'X'
                    const icon = menuToggle.querySelector('i');
                    if (mainNav.classList.contains('active')) {
                        icon.classList.remove('fa-bars');
                        icon.classList.add('fa-times'); // Usar fa-times para cerrar (X)
                    } else {
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                });

                // Opcional: Cerrar el menú al hacer clic en un enlace (en móvil)
                const navLinks = mainNav.querySelectorAll('a');
                navLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        // Solo si el menú está activo (móvil)
                        if (mainNav.classList.contains('active')) {
                            mainNav.classList.remove('active');
                            // Restaurar el ícono de hamburguesa
                            const icon = menuToggle.querySelector('i');
                            icon.classList.remove('fa-times');
                            icon.classList.add('fa-bars');
                        }
                    });
                });
            }

            // ==============================================
            // === 2. LÓGICA DEL CONTADOR DEL CARRITO (GLOBAL) ===
            // ==============================================
            // NOTA: Para que esto funcione, la lógica completa de Carrito (como la que estaba en js/carrito.js) 
            // debería estar aquí o ser cargada, pero solo incluyo el contador para mantener el patrón.
            
            const cartCountElement = document.getElementById('cart-count');

            function getCart() {
                // Simulación: Asume que el carrito está almacenado en localStorage
                const cart = localStorage.getItem('artesaniaCart');
                return cart ? JSON.parse(cart) : [];
            }

            function updateCartCount() {
                const cart = getCart();
                // Suma la cantidad (quantity) de todos los ítems
                const totalItems = cart.reduce((total, item) => total + (item.quantity || 1), 0);
                if (cartCountElement) {
                    cartCountElement.textContent = totalItems;
                }
            }
            
            // Inicializar el contador al cargar la página
            updateCartCount();
        });
    </script>
    <script src="js/carrito.js"></script> 
</body>
</html>